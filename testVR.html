<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Cata VR - Gorri√≥n Wine Experience</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- A-Frame -->
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        background: black;
      }
      a-scene {
        width: 100%;
        height: 100%;
      }
    </style>
  </head>

  <body>
    <a-scene>
      <!-- üåÑ Fondo 360¬∞ local -->
      <a-sky src="vino.jpg" rotation="0 -90 0"></a-sky>

      <!-- üí° Luz ambiental -->
      <a-entity light="type: ambient; color: #FFF"></a-entity>

      <!-- üìù Texto de bienvenida -->
      <a-text
        value="üç∑ Bienvenido a la Cata VR Gorri√≥n Wine Experience üçá"
        align="center"
        color="#ffffff"
        position="0 2 -3"
        width="6">
      </a-text>

      <!-- üîò Punto interactivo (reproduce audio al mirar) -->
      <a-sphere
        id="boton-cata"
        position="0 1.5 -3"
        radius="0.25"
        color="#9b2b2b"
        event-set__enter="_event: mouseenter; color: #d45b5b"
        event-set__leave="_event: mouseleave; color: #9b2b2b"
        sound="on: click; src: #audio-cata">
      </a-sphere>

      <!-- üëÅÔ∏è Texto gu√≠a -->
      <a-text
        value="Mira el c√≠rculo para comenzar la cata"
        align="center"
        color="#fff"
        position="0 0.9 -3"
        width="4">
      </a-text>

      <!-- üéß Audio local o de prueba -->
      <audio
        id="audio-cata"
        src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_aa4f7c59ed.mp3?filename=wine-pour-23695.mp3">
      </audio>

      <!-- üéØ C√°mara y cursor -->
      <a-entity camera look-controls>
        <a-cursor
          fuse="true"
          fuse-timeout="1500"
          material="color: white; shader: flat">
        </a-cursor>
      </a-entity>
    </a-scene>

    <script>
      // üï∂Ô∏è Intentar pantalla completa al cargar
      window.addEventListener("load", () => {
        setTimeout(() => {
          if (document.documentElement.requestFullscreen) {
            document.documentElement.requestFullscreen().catch(() => {
              console.log(
                "El navegador requiere interacci√≥n antes de entrar en pantalla completa."
              );
            });
          }
        }, 500);
      });

      // üì± Si no se pudo, hacerlo al primer toque
      document.addEventListener("click", () => {
        if (!document.fullscreenElement) {
          document.documentElement.requestFullscreen().catch(() => {});
        }
      });
    </script>
  </body>
</html>
